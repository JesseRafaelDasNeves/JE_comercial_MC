<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" 
>
    
        
    <ui:composition>
        
        <p:dataTable var="Pessoa" 
                     id="consulta_pessoa"
                     rows="12"
                     rowsPerPageTemplate="6,12,30,60,100"
                     paginatorPosition="bottom"
                     scrollable="true"
                     scrollHeight="98%"
                     paginator="true"
                     resizableColumns="true"
                     rowSelectMode="checkbox"
                     value="#{ControllerBeanConsultaPessoa.getAllRegistros()}"
                     rowKey="#{Pessoa.codigo}"
                     selection="#{ControllerBeanConsultaPessoa.registrosSelecionado}"
        >
            
            <f:facet name="header">
                Consulta de Pessoa
            </f:facet>
            
            <p:column selectionMode="single" style="width:16px;text-align:center"/>
            
            <p:column width="18%" headerText="Código">
                <h:outputLabel value="#{Pessoa.codigo}" />
            </p:column>
            
            <p:column headerText="Nome">
                <h:outputLabel value="#{Pessoa.nome}" />
            </p:column>
            
            <p:column width="20%" headerText="CPF/CNPJ">
                <h:outputLabel value="#{Pessoa.cpfCnpj}" />
            </p:column>
            
            <f:facet name="footer">
                <p:commandButton process="consulta_pessoa" update="detalhesPessoa" icon="ui-icon-circle-plus" value="Incluir" oncomplete="PF('dialog_manutencao_pessoa').show()" />
            </f:facet>
            
        </p:dataTable>

        <p:dialog header="Alterar Pessoa" widgetVar="dialog_manutencao_pessoa" modal="true" showEffect="fade" hideEffect="fade" resizable="true">
            <p:outputPanel id="detalhesPessoa" style="text-align:center;">
                <p:panelGrid  columns="2"  columnClasses="label,value">
                    <h:outputText value="Código:" />
                    <h:inputText value="#{ControllerBeanConsultaPessoa.registrosSelecionado.codigo}" />

                    <h:outputText value="Nome:" />
                    <h:inputText value="#{ControllerBeanConsultaPessoa.registrosSelecionado.nome}" />

                    <h:outputText value="CPF/CNPJ:" />
                    <h:inputText value="#{ControllerBeanConsultaPessoa.registrosSelecionado.cpfCnpj}" />
                </p:panelGrid>
            </p:outputPanel>
        </p:dialog>
        
    </ui:composition>
    
</html>

